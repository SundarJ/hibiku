const fs = require('fs');
const path = require('path');

function walk(viewsFolder, callback, within) {
    viewsFolder = typeof viewsFolder === "string" ? [viewsFolder] : viewsFolder;
    viewsFolder.forEach(function(view) {
        fs.readdirSync(view).forEach(function (f, s) {
            var dir = path.join(view, f);
            var stat = fs.statSync(dir);
            if (stat.isFile())
                callback(dir, stat);
            else if (stat.isDirectory())
                walk(dir, callback);
        });
    });
}

module.exports = {
    walk: walk
}